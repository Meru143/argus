# Argus Sprint Log

Auto-generated by continuous improvement sprints. Each entry = one feature shipped.

---

## Sprint 1 ‚Äî 2026-02-16
### Self-Reflection FP Filtering
- **Commit:** squash-merged in PR #2
- **What:** Second LLM pass scores each review comment (1-10), filters below threshold (default 7)
- **Config:** `self_reflection = true`, `self_reflection_score_threshold = 7`, `--no-self-reflection` CLI flag
- **Tests:** Added reflection tests
- **Impact:** HIGH ‚Äî directly reduces noise (#1 user complaint)

### Progress Bars (indicatif)
- **Commit:** squash-merged in PR #2
- **What:** Replaced eprintln progress with indicatif spinners + multi-progress bars
- **Impact:** UX improvement, non-TTY safe

### Tree-sitter Languages (5‚Üí9)
- **Commit:** squash-merged in PR #2
- **What:** Added Java, C, C++, Ruby support to repomap + codelens
- **Impact:** Broader language coverage

---

## Sprint 2 ‚Äî 2026-02-16
### PR Description Generation (`argus describe`)
- **Commit:** `0d9fb4e` (PR #3, branch feat/describe)
- **What:** New `argus describe` subcommand ‚Äî generates PR title, description, and labels from diffs using LLM
- **Features:** Conventional commit titles, structured body, label suggestions, stdin/file/PR input, repo context, all output formats
- **Files:** `crates/argus-review/src/prompt.rs` (+156 lines), `src/main.rs` (+157 lines), `Cargo.toml` (uuid dep)
- **Tests:** 372 total (10 new: describe prompt builders, parser, response handling)
- **Impact:** MEDIUM ‚Äî new user-facing feature, differentiator from review-only tools

### Incremental Review (`--incremental`)
- **Commit:** (PR #4, branch feat/incremental)
- **What:** Review only changes since last review (or base SHA)
- **Features:** `--incremental` flag, `--base-sha`, state persistence in `.argus/review-state.json`, automatic diff generation via `git diff`
- **Files:** `crates/argus-review/src/state.rs` (new), `src/main.rs`, `Cargo.toml`
- **Tests:** Manual verification + unit tests passed
- **Impact:** HIGH ‚Äî enables iterative review workflow without re-reviewing old code

### Hotspot-aware Review Prioritization
- **Commit:** (PR #5, branch feat/hotspot-review)
- **What:** Prioritizes review of high-churn files using git history data
- **Features:**
  - Sorts review order by hotspot score (highest first)
  - Injects per-file warning context ("‚ö†Ô∏è HIGH-CHURN HOTSPOT") for score ‚â• 0.7
  - Updates summary to highlight hotspot detection
- **Files:** `crates/argus-review/src/pipeline.rs` (refactored `build_history_insights`)
- **Tests:** Updated `ReviewStats` tests, verified pipeline logic
- **Impact:** HIGH ‚Äî focuses AI attention where bugs are statistically most likely

### More Tree-sitter Languages (12 Total)
- **Commit:** (PR #6, branch feat/more-languages)
- **What:** Added PHP, Kotlin, and Swift support (9‚Üí12 languages)
- **Features:**
  - Language detection for `.php`, `.kt`/`.kts`, `.swift`
  - Symbol collection (repomap) and chunking (codelens) for semantic search
  - Updated dependencies to compatible versions
- **Files:** `argus-repomap`, `argus-codelens`, `Cargo.toml`
- **Tests:** 372 tests passing, builds clean
- **Impact:** LOW effort, broadens compatibility

### Learning from Feedback (`argus feedback`)
- **Commit:** (PR #7, branch feat/feedback)
- **What:** Users can rate comments (üëç/üëé) to refine future reviews
- **Features:**
  - `argus feedback`: Interactive CLI to rate last review comments
  - Persistence: SQLite database (`.argus/feedback.db`)
  - Integration: Negative feedback injected into system prompt to suppress false positives
  - Caching: Last review results saved to `.argus/last-review.json`
- **Files:** `crates/argus-review/src/feedback.rs` (new), `src/main.rs`, `pipeline.rs`
- **Tests:** 372 tests passing, verified interactive flow
- **Impact:** MEDIUM ‚Äî enables continuous improvement and personalization

---

## Sprint 7 ‚Äî 2026-02-16
### Custom Natural Language Rules (`.argus/rules.md`)
- **Commit:** (branch feat/custom-rules)
- **What:** Users can define project-specific rules in plain English in `.argus/rules.md`.
- **Features:**
  - **Markdown Parsing:** parses list items with optional `[severity]` tags (e.g., `- [bug] no-unwrap: ...`)
  - **Auto-Loading:** automatically detects and loads `.argus/rules.md` at runtime
  - **Prompt Injection:** injects rules into the system prompt to guide the LLM
  - **Configuration Integration:** merges file-based rules with config-defined rules
- **Files:** `crates/argus-core/src/rules.rs` (new), `crates/argus-core/src/lib.rs`, `src/main.rs`
- **Tests:** Added unit tests for markdown parsing; verified end-to-end rule loading with reproduction script
- **Impact:** HIGH ‚Äî allows teams to enforce specific standards and reduce noise ("don't complain about X") without complex config
